# ===================================
# API CARNES PREMIUM - PLANTILLA .env
# ===================================
# Copia este archivo y renómbralo a .env.production
# Reemplaza TODOS los valores marcados con XXX

# ============ CORE CONFIG ============
NODE_ENV=production
PORT=3002

# ============ DATABASE ============
# PostgreSQL (Producción)
DATABASE_URL="postgresql://carnespremium_user:XXX_TU_PASSWORD_XXX@localhost:5432/carnespremium?schema=public"

# MySQL (Alternativa)
# DATABASE_URL="mysql://carnespremium_user:XXX_TU_PASSWORD_XXX@localhost:3306/carnespremium"

# SQLite (Solo desarrollo - NO USAR EN PRODUCCIÓN)
# DATABASE_URL="file:./dev.db"

# ============ REDIS ============
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=XXX_GENERA_PASSWORD_SEGURO_XXX

# ============ JWT & AUTH ============
# Genera con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=XXX_GENERA_SECRET_64_CARACTERES_XXX
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Genera con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=XXX_GENERA_API_KEY_32_CARACTERES_XXX

# ============ CORS ============
CORS_ORIGIN=https://tudominio.com
# Múltiples orígenes: https://tudominio.com,https://www.tudominio.com

# ============ RATE LIMITING ============
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=5000

# ============ CHAT INTELIGENTE ============
# Elige UN provider: openai, minimax, anthropic

# OPCIÓN 1: OpenAI (GPT-4, GPT-3.5)
CHAT_PROVIDER=openai
OPENAI_API_KEY=sk-proj-XXX_TU_KEY_OPENAI_XXX
OPENAI_MODEL=gpt-4-turbo-preview
# Alternativas: gpt-3.5-turbo, gpt-4, gpt-4-turbo
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# OPCIÓN 2: MiniMax AI
# CHAT_PROVIDER=minimax
# MINIMAX_API_KEY=XXX_TU_KEY_MINIMAX_XXX
# MINIMAX_GROUP_ID=XXX_TU_GROUP_ID_XXX
# MINIMAX_MODEL=abab5.5-chat

# OPCIÓN 3: Claude AI (Anthropic)
# CHAT_PROVIDER=anthropic
# ANTHROPIC_API_KEY=sk-ant-XXX_TU_KEY_ANTHROPIC_XXX
# ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Configuración general del chat
CHAT_TIMEOUT=30000
CHAT_MAX_HISTORY=10
CHAT_SYSTEM_PROMPT="Eres un asistente experto en carnes premium. Ayudas a los clientes a elegir los mejores cortes, proporcionas información sobre preparación, cocción y maridaje. Sé amable, profesional y conciso."

# ============ MERCADO PAGO ============
# Obtén tus credenciales en: https://www.mercadopago.com/developers

# PRODUCCIÓN
MERCADOPAGO_ACCESS_TOKEN=APP_USR-XXX_TU_ACCESS_TOKEN_XXX
MERCADOPAGO_PUBLIC_KEY=APP_USR-XXX_TU_PUBLIC_KEY_XXX

# TESTING (para desarrollo y pruebas)
MERCADOPAGO_TEST_ACCESS_TOKEN=TEST-XXX_TU_TEST_ACCESS_TOKEN_XXX
MERCADOPAGO_TEST_PUBLIC_KEY=TEST-XXX_TU_TEST_PUBLIC_KEY_XXX

# Configuración
MERCADOPAGO_SANDBOX=false
# true = usa credenciales de test, false = usa credenciales de producción

MERCADOPAGO_WEBHOOK_SECRET=XXX_GENERA_SECRET_WEBHOOK_XXX
MERCADOPAGO_SUCCESS_URL=https://tudominio.com/pago-exitoso
MERCADOPAGO_FAILURE_URL=https://tudominio.com/pago-fallido
MERCADOPAGO_PENDING_URL=https://tudominio.com/pago-pendiente

# ============ EMAIL ============
# OPCIÓN 1: SendGrid
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=SG.XXX_TU_KEY_SENDGRID_XXX
SENDGRID_FROM_EMAIL=noreply@carnespremium.com
SENDGRID_FROM_NAME=Carnes Premium

# OPCIÓN 2: AWS SES
# EMAIL_PROVIDER=ses
# AWS_SES_REGION=us-east-1
# AWS_SES_ACCESS_KEY=AKIAXXXXXXXXXXXXX
# AWS_SES_SECRET_KEY=XXX_TU_SECRET_KEY_XXX
# AWS_SES_FROM_EMAIL=noreply@carnespremium.com

# OPCIÓN 3: SMTP Genérico (Gmail, Outlook, etc)
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=tuusuario@gmail.com
# SMTP_PASSWORD=XXX_TU_PASSWORD_XXX

# ============ SMS (OPCIONAL) ============
# Twilio
TWILIO_ENABLED=false
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=XXX_TU_AUTH_TOKEN_XXX
# TWILIO_PHONE_NUMBER=+1234567890

# ============ STORAGE ============
# OPCIÓN 1: Local (para servidor local)
STORAGE_PROVIDER=local
UPLOAD_DIR=/var/www/carnespremium/app/uploads
MAX_FILE_SIZE=5242880
# 5 MB = 5242880 bytes

# OPCIÓN 2: AWS S3 (para AWS/producción)
# STORAGE_PROVIDER=s3
# AWS_S3_BUCKET=carnespremium-uploads
# AWS_S3_REGION=us-east-1
# AWS_S3_ACCESS_KEY=AKIAXXXXXXXXXXXXX
# AWS_S3_SECRET_KEY=XXX_TU_SECRET_KEY_XXX
# AWS_S3_CDN_URL=https://d123456789.cloudfront.net

# ============ ANALYTICS (OPCIONAL) ============
# Google Analytics
GA_ENABLED=false
# GA_TRACKING_ID=G-XXXXXXXXXX

# Segment
SEGMENT_ENABLED=false
# SEGMENT_WRITE_KEY=XXX_TU_WRITE_KEY_XXX

# ============ MONITORING (OPCIONAL) ============
# Sentry (Error tracking)
SENTRY_ENABLED=false
# SENTRY_DSN=https://xxxxxxxxxxxxx@sentry.io/1234567

# Datadog (APM)
DATADOG_ENABLED=false
# DATADOG_API_KEY=XXX_TU_API_KEY_XXX
# DATADOG_APP_KEY=XXX_TU_APP_KEY_XXX

# New Relic
NEWRELIC_ENABLED=false
# NEW_RELIC_LICENSE_KEY=XXX_TU_LICENSE_KEY_XXX
# NEW_RELIC_APP_NAME=carnespremium-api

# ============ LOGGING ============
LOG_LEVEL=info
# Opciones: error, warn, info, debug
LOG_FILE=/var/www/carnespremium/logs/app.log
LOG_MAX_SIZE=10485760
# 10 MB = 10485760 bytes

# ============ SESSION ============
SESSION_SECRET=XXX_GENERA_SECRET_SESSION_XXX
SESSION_MAX_AGE=86400000
# 24 horas = 86400000 ms

# ============ FEATURES FLAGS (OPCIONAL) ============
FEATURE_CHAT_ENABLED=true
FEATURE_LOYALTY_ENABLED=true
FEATURE_RECOMMENDATIONS_ENABLED=true
FEATURE_NOTIFICATIONS_ENABLED=true

# ============ MAINTENANCE MODE ============
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Estamos realizando mantenimiento. Volvemos pronto."

# ============ OTROS ============
# API Base URL (para webhooks y enlaces)
API_URL=https://api.carnespremium.com

# Frontend URL
FRONTEND_URL=https://carnespremium.com

# Zona horaria
TZ=America/Argentina/Buenos_Aires
# Opciones: America/Mexico_City, America/Santiago, etc.

# ===================================
# NOTAS IMPORTANTES:
# ===================================
# 1. NUNCA subas este archivo a Git
# 2. Genera secrets únicos con: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 3. Cambia todos los valores XXX antes de usar
# 4. Mantén backups seguros de este archivo
# 5. Rota secrets cada 90 días
# 6. Usa diferentes secrets para dev/staging/production
