nohup: ignoring input
‚ö†Ô∏è FIREBASE_SERVICE_ACCOUNT no configurado. Las notificaciones push no funcionar√°n.
prisma:info Starting a sqlite pool with 25 connections.
Conexi√≥n a PostgreSQL establecida
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
Query User.count tom√≥ 35ms
Base de datos inicializada (31 usuarios)
‚úÖ Base de datos conectada
‚ö†Ô∏è Redis no configurado - funcionando sin cache
SocketService inicializado
‚úÖ Socket.IO configurado
üöÄ Servidor ejecut√°ndose en puerto 3002
üåç Ambiente: development
üìä Health check: http://localhost:3002/health
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 9ms
::1 - - [20/Nov/2025:16:32:03 +0000] "POST /api/auth/login HTTP/1.1" 200 373 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`phone`, `main`.`users`.`role`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query BEGIN IMMEDIATE
prisma:query INSERT INTO `main`.`users` (`id`, `email`, `password`, `name`, `phone`, `role`, `isActive`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `name` AS `name`, `email` AS `email`, `role` AS `role`, `createdAt` AS `createdAt`
Query User.create tom√≥ 7ms
prisma:query INSERT INTO `main`.`loyalty_points` (`id`, `userId`, `currentPoints`, `totalEarned`, `totalRedeemed`, `lifetimePoints`, `tier`, `tierProgress`, `nextTierPoints`, `totalBadges`, `totalChallengesCompleted`, `totalReferrals`, `currentStreak`, `longestStreak`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `userId` AS `userId`, `currentPoints` AS `currentPoints`, `totalEarned` AS `totalEarned`, `totalRedeemed` AS `totalRedeemed`, `lifetimePoints` AS `lifetimePoints`, `tier` AS `tier`, `tierProgress` AS `tierProgress`, `nextTierPoints` AS `nextTierPoints`, `totalBadges` AS `totalBadges`, `totalChallengesCompleted` AS `totalChallengesCompleted`, `totalReferrals` AS `totalReferrals`, `currentStreak` AS `currentStreak`, `longestStreak` AS `longestStreak`, `lastPointsEarned` AS `lastPointsEarned`, `lastTierUpgrade` AS `lastTierUpgrade`, `metadata` AS `metadata`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
Query LoyaltyPoints.create tom√≥ 9ms
prisma:query COMMIT
::1 - - [20/Nov/2025:16:32:03 +0000] "POST /api/auth/register HTTP/1.1" 201 410 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 5ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email`, `main`.`users`.`phone`, `main`.`users`.`role`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`addresses`.`id`, `main`.`addresses`.`userId`, `main`.`addresses`.`type`, `main`.`addresses`.`name`, `main`.`addresses`.`phone`, `main`.`addresses`.`address1`, `main`.`addresses`.`address2`, `main`.`addresses`.`city`, `main`.`addresses`.`state`, `main`.`addresses`.`postalCode`, `main`.`addresses`.`country`, `main`.`addresses`.`latitude`, `main`.`addresses`.`longitude`, `main`.`addresses`.`isDefault`, `main`.`addresses`.`createdAt`, `main`.`addresses`.`updatedAt` FROM `main`.`addresses` WHERE (`main`.`addresses`.`isDefault` = ? AND `main`.`addresses`.`userId` IN (?)) ORDER BY `main`.`addresses`.`id` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`userId` FROM `main`.`loyalty_points` WHERE `main`.`loyalty_points`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_memberships`.`id`, `main`.`user_memberships`.`status`, `main`.`user_memberships`.`planId`, `main`.`user_memberships`.`userId` FROM `main`.`user_memberships` WHERE `main`.`user_memberships`.`userId` IN (?) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 20ms
::1 - - [20/Nov/2025:16:32:03 +0000] "GET /api/auth/profile HTTP/1.1" 200 341 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`categories`.`id`, `main`.`categories`.`name`, `main`.`categories`.`slug`, `main`.`categories`.`description`, `main`.`categories`.`imageUrl`, `main`.`categories`.`parentId`, `main`.`categories`.`isActive`, `main`.`categories`.`sortOrder`, `main`.`categories`.`createdAt`, `main`.`categories`.`updatedAt`, COALESCE(`aggr_selection_0_Product`.`_aggr_count_products`, 0) AS `_aggr_count_products` FROM `main`.`categories` LEFT JOIN (SELECT `main`.`products`.`categoryId`, COUNT(*) AS `_aggr_count_products` FROM `main`.`products` WHERE `main`.`products`.`isActive` = ? GROUP BY `main`.`products`.`categoryId`) AS `aggr_selection_0_Product` ON (`main`.`categories`.`id` = `aggr_selection_0_Product`.`categoryId`) WHERE `main`.`categories`.`isActive` = ? ORDER BY `main`.`categories`.`sortOrder` ASC LIMIT ? OFFSET ?
Query Category.findMany tom√≥ 6ms
::1 - - [20/Nov/2025:16:32:03 +0000] "GET /api/categories HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`categories`.`id`, `main`.`categories`.`name`, `main`.`categories`.`slug`, `main`.`categories`.`description`, `main`.`categories`.`imageUrl`, `main`.`categories`.`parentId`, `main`.`categories`.`isActive`, `main`.`categories`.`sortOrder`, `main`.`categories`.`createdAt`, `main`.`categories`.`updatedAt` FROM `main`.`categories` WHERE (`main`.`categories`.`slug` = ? AND 1=1) LIMIT ? OFFSET ?
Query Category.findUnique tom√≥ 6ms
prisma:query INSERT INTO `main`.`categories` (`id`, `name`, `slug`, `description`, `isActive`, `sortOrder`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `name` AS `name`, `slug` AS `slug`, `description` AS `description`, `imageUrl` AS `imageUrl`, `parentId` AS `parentId`, `isActive` AS `isActive`, `sortOrder` AS `sortOrder`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
Query Category.create tom√≥ 39ms
::1 - - [20/Nov/2025:16:32:03 +0000] "POST /api/categories HTTP/1.1" 201 339 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`slug`, `main`.`products`.`shortDesc`, `main`.`products`.`sku`, `main`.`products`.`imageUrl`, `main`.`products`.`isFeatured`, `main`.`products`.`weight`, `main`.`products`.`unit`, `main`.`products`.`origin`, `main`.`products`.`brand`, `main`.`products`.`averageRating`, `main`.`products`.`totalReviews`, `main`.`products`.`categoryId` FROM `main`.`products` WHERE `main`.`products`.`isActive` = ? ORDER BY `main`.`products`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`categories`.`id`, `main`.`categories`.`name`, `main`.`categories`.`slug` FROM `main`.`categories` WHERE `main`.`categories`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`name`, `main`.`product_variants`.`sku`, `main`.`product_variants`.`price`, `main`.`product_variants`.`comparePrice`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`weight`, `main`.`product_variants`.`isDefault`, `main`.`product_variants`.`productId` FROM `main`.`product_variants` WHERE (`main`.`product_variants`.`isActive` = ? AND `main`.`product_variants`.`productId` IN (?)) ORDER BY `main`.`product_variants`.`isDefault` DESC LIMIT ? OFFSET ?
Query Product.findMany tom√≥ 15ms
Query Product.count tom√≥ 22ms
::1 - - [20/Nov/2025:16:32:03 +0000] "GET /api/products HTTP/1.1" 200 703 "-" "python-requests/2.32.5"
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`products`.`id` FROM `main`.`products` WHERE `main`.`products`.`isActive` = ? LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`slug`, `main`.`products`.`shortDesc`, `main`.`products`.`sku`, `main`.`products`.`imageUrl`, `main`.`products`.`isFeatured`, `main`.`products`.`weight`, `main`.`products`.`unit`, `main`.`products`.`origin`, `main`.`products`.`brand`, `main`.`products`.`averageRating`, `main`.`products`.`totalReviews`, `main`.`products`.`categoryId` FROM `main`.`products` WHERE (`main`.`products`.`isActive` = ? AND (`main`.`products`.`name` LIKE ? OR `main`.`products`.`shortDesc` LIKE ? OR `main`.`products`.`description` LIKE ? OR `main`.`products`.`brand` LIKE ? OR `main`.`products`.`tags` LIKE ?)) ORDER BY `main`.`products`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`categories`.`id`, `main`.`categories`.`name`, `main`.`categories`.`slug` FROM `main`.`categories` WHERE `main`.`categories`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`name`, `main`.`product_variants`.`sku`, `main`.`product_variants`.`price`, `main`.`product_variants`.`comparePrice`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`weight`, `main`.`product_variants`.`isDefault`, `main`.`product_variants`.`productId` FROM `main`.`product_variants` WHERE (`main`.`product_variants`.`isActive` = ? AND `main`.`product_variants`.`productId` IN (?)) ORDER BY `main`.`product_variants`.`isDefault` DESC LIMIT ? OFFSET ?
Query Product.findMany tom√≥ 15ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`products`.`id` FROM `main`.`products` WHERE (`main`.`products`.`isActive` = ? AND (`main`.`products`.`name` LIKE ? OR `main`.`products`.`shortDesc` LIKE ? OR `main`.`products`.`description` LIKE ? OR `main`.`products`.`brand` LIKE ? OR `main`.`products`.`tags` LIKE ?)) LIMIT ? OFFSET ?) AS `sub`
Query Product.count tom√≥ 18ms
::1 - - [20/Nov/2025:16:32:03 +0000] "GET /api/products/search?q=carne HTTP/1.1" 200 734 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`slug`, `main`.`products`.`description`, `main`.`products`.`shortDesc`, `main`.`products`.`sku`, `main`.`products`.`categoryId`, `main`.`products`.`imageUrl`, `main`.`products`.`gallery`, `main`.`products`.`isActive`, `main`.`products`.`isFeatured`, `main`.`products`.`weight`, `main`.`products`.`unit`, `main`.`products`.`origin`, `main`.`products`.`brand`, `main`.`products`.`tags`, `main`.`products`.`nutritionInfo`, `main`.`products`.`storageInstructions`, `main`.`products`.`minStock`, `main`.`products`.`maxStock`, `main`.`products`.`reorderPoint`, `main`.`products`.`averageRating`, `main`.`products`.`totalReviews`, `main`.`products`.`totalSales`, `main`.`products`.`metadata`, `main`.`products`.`seoTitle`, `main`.`products`.`seoDescription`, `main`.`products`.`createdAt`, `main`.`products`.`updatedAt` FROM `main`.`products` WHERE (`main`.`products`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`categories`.`id`, `main`.`categories`.`name`, `main`.`categories`.`slug`, `main`.`categories`.`description`, `main`.`categories`.`imageUrl`, `main`.`categories`.`parentId`, `main`.`categories`.`isActive`, `main`.`categories`.`sortOrder`, `main`.`categories`.`createdAt`, `main`.`categories`.`updatedAt` FROM `main`.`categories` WHERE `main`.`categories`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`productId`, `main`.`product_variants`.`name`, `main`.`product_variants`.`sku`, `main`.`product_variants`.`price`, `main`.`product_variants`.`comparePrice`, `main`.`product_variants`.`cost`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`weight`, `main`.`product_variants`.`barcode`, `main`.`product_variants`.`imageUrl`, `main`.`product_variants`.`isDefault`, `main`.`product_variants`.`attributes`, `main`.`product_variants`.`isActive`, `main`.`product_variants`.`createdAt`, `main`.`product_variants`.`updatedAt` FROM `main`.`product_variants` WHERE (`main`.`product_variants`.`isActive` = ? AND `main`.`product_variants`.`productId` IN (?)) ORDER BY `main`.`product_variants`.`isDefault` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`reviews`.`id`, `main`.`reviews`.`userId`, `main`.`reviews`.`productId`, `main`.`reviews`.`orderId`, `main`.`reviews`.`rating`, `main`.`reviews`.`title`, `main`.`reviews`.`comment`, `main`.`reviews`.`isVerifiedPurchase`, `main`.`reviews`.`status`, `main`.`reviews`.`rejectionReason`, `main`.`reviews`.`moderatedBy`, `main`.`reviews`.`moderatedAt`, `main`.`reviews`.`helpfulCount`, `main`.`reviews`.`notHelpfulCount`, `main`.`reviews`.`sellerResponse`, `main`.`reviews`.`sellerRespondedAt`, `main`.`reviews`.`createdAt`, `main`.`reviews`.`updatedAt` FROM `main`.`reviews` WHERE `main`.`reviews`.`productId` IN (?) ORDER BY `main`.`reviews`.`createdAt` DESC LIMIT ? OFFSET ?
Query Product.findUnique tom√≥ 16ms
::1 - - [20/Nov/2025:16:32:03 +0000] "GET /api/products/cmi5dkshf0004cs1o8uc5g0xn HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name` FROM `main`.`products` WHERE (`main`.`products`.`id` = ? AND `main`.`products`.`isActive` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`name`, `main`.`product_variants`.`price`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`isDefault`, `main`.`product_variants`.`productId` FROM `main`.`product_variants` WHERE (`main`.`product_variants`.`isActive` = ? AND `main`.`product_variants`.`productId` IN (?)) LIMIT ? OFFSET ?
Query Product.findUnique tom√≥ 7ms
prisma:query SELECT `main`.`cart_items`.`id`, `main`.`cart_items`.`userId`, `main`.`cart_items`.`productId`, `main`.`cart_items`.`variantId`, `main`.`cart_items`.`quantity`, `main`.`cart_items`.`price`, `main`.`cart_items`.`createdAt`, `main`.`cart_items`.`updatedAt` FROM `main`.`cart_items` WHERE ((`main`.`cart_items`.`userId` = ? AND `main`.`cart_items`.`productId` = ? AND `main`.`cart_items`.`variantId` = ?) AND 1=1) LIMIT ? OFFSET ?
Query CartItem.findUnique tom√≥ 5ms
prisma:query INSERT INTO `main`.`cart_items` (`id`, `userId`, `productId`, `variantId`, `quantity`, `price`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `userId` AS `userId`, `productId` AS `productId`, `variantId` AS `variantId`, `quantity` AS `quantity`, `price` AS `price`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
Query CartItem.create tom√≥ 25ms
prisma:query SELECT `main`.`cart_items`.`id`, `main`.`cart_items`.`userId`, `main`.`cart_items`.`productId`, `main`.`cart_items`.`variantId`, `main`.`cart_items`.`quantity`, `main`.`cart_items`.`price`, `main`.`cart_items`.`createdAt`, `main`.`cart_items`.`updatedAt` FROM `main`.`cart_items` WHERE `main`.`cart_items`.`userId` = ? ORDER BY `main`.`cart_items`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`shortDesc`, `main`.`products`.`imageUrl`, `main`.`products`.`isActive` FROM `main`.`products` WHERE `main`.`products`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`name`, `main`.`product_variants`.`price`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`weight`, `main`.`product_variants`.`isActive` FROM `main`.`product_variants` WHERE `main`.`product_variants`.`id` IN (?) LIMIT ? OFFSET ?
Query CartItem.findMany tom√≥ 13ms
::1 - - [20/Nov/2025:16:32:04 +0000] "POST /api/cart HTTP/1.1" 200 963 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`cart_items`.`id`, `main`.`cart_items`.`userId`, `main`.`cart_items`.`productId`, `main`.`cart_items`.`variantId`, `main`.`cart_items`.`quantity`, `main`.`cart_items`.`price`, `main`.`cart_items`.`createdAt`, `main`.`cart_items`.`updatedAt` FROM `main`.`cart_items` WHERE `main`.`cart_items`.`userId` = ? ORDER BY `main`.`cart_items`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`shortDesc`, `main`.`products`.`imageUrl`, `main`.`products`.`isActive` FROM `main`.`products` WHERE `main`.`products`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`name`, `main`.`product_variants`.`price`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`weight`, `main`.`product_variants`.`isActive` FROM `main`.`product_variants` WHERE `main`.`product_variants`.`id` IN (?) LIMIT ? OFFSET ?
Query CartItem.findMany tom√≥ 18ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/cart HTTP/1.1" 200 645 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`cart_items`.`id`, `main`.`cart_items`.`userId`, `main`.`cart_items`.`productId`, `main`.`cart_items`.`variantId`, `main`.`cart_items`.`quantity`, `main`.`cart_items`.`price`, `main`.`cart_items`.`createdAt`, `main`.`cart_items`.`updatedAt` FROM `main`.`cart_items` WHERE (`main`.`cart_items`.`id` = ? AND `main`.`cart_items`.`userId` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`isActive` FROM `main`.`products` WHERE `main`.`products`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`isActive` FROM `main`.`product_variants` WHERE `main`.`product_variants`.`id` IN (?) LIMIT ? OFFSET ?
Query CartItem.findFirst tom√≥ 10ms
prisma:query UPDATE `main`.`cart_items` SET `quantity` = ?, `updatedAt` = ? WHERE (`main`.`cart_items`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `userId` AS `userId`, `productId` AS `productId`, `variantId` AS `variantId`, `quantity` AS `quantity`, `price` AS `price`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
Query CartItem.update tom√≥ 21ms
prisma:query SELECT `main`.`cart_items`.`id`, `main`.`cart_items`.`userId`, `main`.`cart_items`.`productId`, `main`.`cart_items`.`variantId`, `main`.`cart_items`.`quantity`, `main`.`cart_items`.`price`, `main`.`cart_items`.`createdAt`, `main`.`cart_items`.`updatedAt` FROM `main`.`cart_items` WHERE `main`.`cart_items`.`userId` = ? ORDER BY `main`.`cart_items`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`shortDesc`, `main`.`products`.`imageUrl`, `main`.`products`.`isActive` FROM `main`.`products` WHERE `main`.`products`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`product_variants`.`id`, `main`.`product_variants`.`name`, `main`.`product_variants`.`price`, `main`.`product_variants`.`stock`, `main`.`product_variants`.`weight`, `main`.`product_variants`.`isActive` FROM `main`.`product_variants` WHERE `main`.`product_variants`.`id` IN (?) LIMIT ? OFFSET ?
Query CartItem.findMany tom√≥ 15ms
::1 - - [20/Nov/2025:16:32:04 +0000] "PUT /api/cart/cmi7nfszq0006vam8nb1d08dp HTTP/1.1" 200 680 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
::1 - - [20/Nov/2025:16:32:04 +0000] "POST /api/wishlist HTTP/1.1" 201 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 8ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/wishlist HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
::1 - - [20/Nov/2025:16:32:04 +0000] "DELETE /api/wishlist/cmi5dkshf0004cs1o8uc5g0xn HTTP/1.1" 200 59 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 8ms
prisma:query SELECT `main`.`orders`.`id`, `main`.`orders`.`orderNumber`, `main`.`orders`.`userId`, `main`.`orders`.`status`, `main`.`orders`.`paymentStatus`, `main`.`orders`.`paymentMethod`, `main`.`orders`.`subtotal`, `main`.`orders`.`tax`, `main`.`orders`.`deliveryFee`, `main`.`orders`.`discount`, `main`.`orders`.`total`, `main`.`orders`.`currency`, `main`.`orders`.`billingAddress`, `main`.`orders`.`shippingAddress`, `main`.`orders`.`deliveryDate`, `main`.`orders`.`deliveryTimeSlot`, `main`.`orders`.`specialInstructions`, `main`.`orders`.`notes`, `main`.`orders`.`metadata`, `main`.`orders`.`createdAt`, `main`.`orders`.`updatedAt` FROM `main`.`orders` WHERE `main`.`orders`.`userId` = ? ORDER BY `main`.`orders`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`orders`.`id` FROM `main`.`orders` WHERE `main`.`orders`.`userId` = ? LIMIT ? OFFSET ?) AS `sub`
Query Order.findMany tom√≥ 16ms
Query Order.count tom√≥ 18ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/orders HTTP/1.1" 200 99 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`products`.`id` FROM `main`.`products` WHERE (`main`.`products`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query Product.findUnique tom√≥ 6ms
prisma:query SELECT `main`.`reviews`.`id`, `main`.`reviews`.`rating`, `main`.`reviews`.`title`, `main`.`reviews`.`comment`, `main`.`reviews`.`isVerifiedPurchase`, `main`.`reviews`.`helpfulCount`, `main`.`reviews`.`createdAt`, `main`.`reviews`.`userId` FROM `main`.`reviews` WHERE (`main`.`reviews`.`productId` = ? AND `main`.`reviews`.`status` = ?) ORDER BY `main`.`reviews`.`createdAt` DESC LIMIT ? OFFSET ?
Query Review.findMany tom√≥ 6ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`reviews`.`id` FROM `main`.`reviews` WHERE (`main`.`reviews`.`productId` = ? AND `main`.`reviews`.`status` = ?) LIMIT ? OFFSET ?) AS `sub`
Query Review.count tom√≥ 10ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/products/cmi5dkshf0004cs1o8uc5g0xn/reviews HTTP/1.1" 200 118 "-" "python-requests/2.32.5"
::1 - - [20/Nov/2025:16:32:04 +0000] "POST /api/coupons/validate HTTP/1.1" 200 229 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 5ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/notifications HTTP/1.1" 200 622 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/notifications/preferences HTTP/1.1" 200 443 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 10ms
prisma:query SELECT `main`.`badges`.`id`, `main`.`badges`.`code`, `main`.`badges`.`name`, `main`.`badges`.`description`, `main`.`badges`.`icon`, `main`.`badges`.`color`, `main`.`badges`.`rarity`, `main`.`badges`.`requirementType`, `main`.`badges`.`requirementValue`, `main`.`badges`.`pointsReward`, `main`.`badges`.`hasSpecialReward`, `main`.`badges`.`specialRewardDesc`, `main`.`badges`.`isActive`, `main`.`badges`.`isSecret`, `main`.`badges`.`sortOrder`, `main`.`badges`.`totalAwarded`, `main`.`badges`.`metadata`, `main`.`badges`.`createdAt`, `main`.`badges`.`updatedAt` FROM `main`.`badges` WHERE (`main`.`badges`.`isActive` = ? AND `main`.`badges`.`isSecret` = ?) ORDER BY `main`.`badges`.`sortOrder` ASC, `main`.`badges`.`rarity` ASC LIMIT ? OFFSET ?
Query Badge.findMany tom√≥ 7ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/badges HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`userId` = ? ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
Query UserBadge.findMany tom√≥ 20ms
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`userId` = ? ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
Query UserBadge.findMany tom√≥ 23ms
prisma:query SELECT `main`.`badges`.`id`, `main`.`badges`.`code`, `main`.`badges`.`name`, `main`.`badges`.`description`, `main`.`badges`.`icon`, `main`.`badges`.`color`, `main`.`badges`.`rarity`, `main`.`badges`.`requirementType`, `main`.`badges`.`requirementValue`, `main`.`badges`.`pointsReward`, `main`.`badges`.`hasSpecialReward`, `main`.`badges`.`specialRewardDesc`, `main`.`badges`.`isActive`, `main`.`badges`.`isSecret`, `main`.`badges`.`sortOrder`, `main`.`badges`.`totalAwarded`, `main`.`badges`.`metadata`, `main`.`badges`.`createdAt`, `main`.`badges`.`updatedAt` FROM `main`.`badges` WHERE (`main`.`badges`.`isActive` = ? AND `main`.`badges`.`isSecret` = ?) ORDER BY `main`.`badges`.`sortOrder` ASC, `main`.`badges`.`rarity` ASC LIMIT ? OFFSET ?
Query Badge.findMany tom√≥ 6ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/badges/earned HTTP/1.1" 200 437 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`challenges`.`id`, `main`.`challenges`.`code`, `main`.`challenges`.`name`, `main`.`challenges`.`description`, `main`.`challenges`.`type`, `main`.`challenges`.`category`, `main`.`challenges`.`targetType`, `main`.`challenges`.`targetValue`, `main`.`challenges`.`targetDetails`, `main`.`challenges`.`pointsReward`, `main`.`challenges`.`badgeReward`, `main`.`challenges`.`couponReward`, `main`.`challenges`.`startDate`, `main`.`challenges`.`endDate`, `main`.`challenges`.`isActive`, `main`.`challenges`.`isRepeatable`, `main`.`challenges`.`maxCompletions`, `main`.`challenges`.`icon`, `main`.`challenges`.`color`, `main`.`challenges`.`difficulty`, `main`.`challenges`.`totalParticipants`, `main`.`challenges`.`totalCompletions`, `main`.`challenges`.`metadata`, `main`.`challenges`.`createdAt`, `main`.`challenges`.`updatedAt` FROM `main`.`challenges` WHERE (`main`.`challenges`.`isActive` = ? AND `main`.`challenges`.`startDate` <= ? AND (`main`.`challenges`.`endDate` IS NULL OR `main`.`challenges`.`endDate` >= ?)) ORDER BY `main`.`challenges`.`difficulty` ASC, `main`.`challenges`.`pointsReward` DESC LIMIT ? OFFSET ?
Query Challenge.findMany tom√≥ 18ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 21ms
prisma:query SELECT `main`.`user_challenges`.`id`, `main`.`user_challenges`.`userId`, `main`.`user_challenges`.`loyaltyId`, `main`.`user_challenges`.`challengeId`, `main`.`user_challenges`.`currentProgress`, `main`.`user_challenges`.`targetProgress`, `main`.`user_challenges`.`isCompleted`, `main`.`user_challenges`.`completedAt`, `main`.`user_challenges`.`pointsEarned`, `main`.`user_challenges`.`rewardClaimed`, `main`.`user_challenges`.`claimedAt`, `main`.`user_challenges`.`startedAt`, `main`.`user_challenges`.`lastProgressAt`, `main`.`user_challenges`.`attemptNumber`, `main`.`user_challenges`.`progressData`, `main`.`user_challenges`.`metadata`, `main`.`user_challenges`.`createdAt`, `main`.`user_challenges`.`updatedAt` FROM `main`.`user_challenges` LEFT JOIN `main`.`challenges` AS `j1` ON (`j1`.`id`) = (`main`.`user_challenges`.`challengeId`) WHERE (`main`.`user_challenges`.`userId` = ? AND (`j1`.`isActive` = ? AND (`j1`.`id` IS NOT NULL))) ORDER BY `main`.`user_challenges`.`lastProgressAt` DESC LIMIT ? OFFSET ?
Query UserChallenge.findMany tom√≥ 6ms
prisma:query SELECT `main`.`user_challenges`.`id`, `main`.`user_challenges`.`userId`, `main`.`user_challenges`.`loyaltyId`, `main`.`user_challenges`.`challengeId`, `main`.`user_challenges`.`currentProgress`, `main`.`user_challenges`.`targetProgress`, `main`.`user_challenges`.`isCompleted`, `main`.`user_challenges`.`completedAt`, `main`.`user_challenges`.`pointsEarned`, `main`.`user_challenges`.`rewardClaimed`, `main`.`user_challenges`.`claimedAt`, `main`.`user_challenges`.`startedAt`, `main`.`user_challenges`.`lastProgressAt`, `main`.`user_challenges`.`attemptNumber`, `main`.`user_challenges`.`progressData`, `main`.`user_challenges`.`metadata`, `main`.`user_challenges`.`createdAt`, `main`.`user_challenges`.`updatedAt` FROM `main`.`user_challenges` WHERE (`main`.`user_challenges`.`userId` = ? AND `main`.`user_challenges`.`isCompleted` = ?) ORDER BY `main`.`user_challenges`.`completedAt` DESC LIMIT ? OFFSET ?
Query UserChallenge.findMany tom√≥ 16ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/challenges HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`challenges`.`id`, `main`.`challenges`.`code`, `main`.`challenges`.`name`, `main`.`challenges`.`description`, `main`.`challenges`.`type`, `main`.`challenges`.`category`, `main`.`challenges`.`targetType`, `main`.`challenges`.`targetValue`, `main`.`challenges`.`targetDetails`, `main`.`challenges`.`pointsReward`, `main`.`challenges`.`badgeReward`, `main`.`challenges`.`couponReward`, `main`.`challenges`.`startDate`, `main`.`challenges`.`endDate`, `main`.`challenges`.`isActive`, `main`.`challenges`.`isRepeatable`, `main`.`challenges`.`maxCompletions`, `main`.`challenges`.`icon`, `main`.`challenges`.`color`, `main`.`challenges`.`difficulty`, `main`.`challenges`.`totalParticipants`, `main`.`challenges`.`totalCompletions`, `main`.`challenges`.`metadata`, `main`.`challenges`.`createdAt`, `main`.`challenges`.`updatedAt` FROM `main`.`challenges` WHERE (`main`.`challenges`.`isActive` = ? AND `main`.`challenges`.`startDate` <= ? AND (`main`.`challenges`.`endDate` IS NULL OR `main`.`challenges`.`endDate` >= ?)) ORDER BY `main`.`challenges`.`difficulty` ASC, `main`.`challenges`.`pointsReward` DESC LIMIT ? OFFSET ?
Query Challenge.findMany tom√≥ 4ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 13ms
prisma:query SELECT `main`.`user_challenges`.`id`, `main`.`user_challenges`.`userId`, `main`.`user_challenges`.`loyaltyId`, `main`.`user_challenges`.`challengeId`, `main`.`user_challenges`.`currentProgress`, `main`.`user_challenges`.`targetProgress`, `main`.`user_challenges`.`isCompleted`, `main`.`user_challenges`.`completedAt`, `main`.`user_challenges`.`pointsEarned`, `main`.`user_challenges`.`rewardClaimed`, `main`.`user_challenges`.`claimedAt`, `main`.`user_challenges`.`startedAt`, `main`.`user_challenges`.`lastProgressAt`, `main`.`user_challenges`.`attemptNumber`, `main`.`user_challenges`.`progressData`, `main`.`user_challenges`.`metadata`, `main`.`user_challenges`.`createdAt`, `main`.`user_challenges`.`updatedAt` FROM `main`.`user_challenges` LEFT JOIN `main`.`challenges` AS `j1` ON (`j1`.`id`) = (`main`.`user_challenges`.`challengeId`) WHERE (`main`.`user_challenges`.`userId` = ? AND (`j1`.`isActive` = ? AND (`j1`.`id` IS NOT NULL))) ORDER BY `main`.`user_challenges`.`lastProgressAt` DESC LIMIT ? OFFSET ?
Query UserChallenge.findMany tom√≥ 4ms
prisma:query SELECT `main`.`user_challenges`.`id`, `main`.`user_challenges`.`userId`, `main`.`user_challenges`.`loyaltyId`, `main`.`user_challenges`.`challengeId`, `main`.`user_challenges`.`currentProgress`, `main`.`user_challenges`.`targetProgress`, `main`.`user_challenges`.`isCompleted`, `main`.`user_challenges`.`completedAt`, `main`.`user_challenges`.`pointsEarned`, `main`.`user_challenges`.`rewardClaimed`, `main`.`user_challenges`.`claimedAt`, `main`.`user_challenges`.`startedAt`, `main`.`user_challenges`.`lastProgressAt`, `main`.`user_challenges`.`attemptNumber`, `main`.`user_challenges`.`progressData`, `main`.`user_challenges`.`metadata`, `main`.`user_challenges`.`createdAt`, `main`.`user_challenges`.`updatedAt` FROM `main`.`user_challenges` WHERE (`main`.`user_challenges`.`userId` = ? AND `main`.`user_challenges`.`isCompleted` = ?) ORDER BY `main`.`user_challenges`.`completedAt` DESC LIMIT ? OFFSET ?
Query UserChallenge.findMany tom√≥ 7ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/challenges/mine HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`rewards`.`id`, `main`.`rewards`.`name`, `main`.`rewards`.`description`, `main`.`rewards`.`shortDesc`, `main`.`rewards`.`type`, `main`.`rewards`.`pointsCost`, `main`.`rewards`.`discountType`, `main`.`rewards`.`discountValue`, `main`.`rewards`.`productId`, `main`.`rewards`.`couponCode`, `main`.`rewards`.`stockLimit`, `main`.`rewards`.`currentStock`, `main`.`rewards`.`maxPerUser`, `main`.`rewards`.`requiresTier`, `main`.`rewards`.`imageUrl`, `main`.`rewards`.`icon`, `main`.`rewards`.`color`, `main`.`rewards`.`featured`, `main`.`rewards`.`sortOrder`, `main`.`rewards`.`validFrom`, `main`.`rewards`.`validUntil`, `main`.`rewards`.`isActive`, `main`.`rewards`.`isVisible`, `main`.`rewards`.`totalRedeemed`, `main`.`rewards`.`totalValue`, `main`.`rewards`.`metadata`, `main`.`rewards`.`createdAt`, `main`.`rewards`.`updatedAt` FROM `main`.`rewards` WHERE (`main`.`rewards`.`isActive` = ? AND `main`.`rewards`.`isVisible` = ? AND `main`.`rewards`.`validFrom` <= ? AND (`main`.`rewards`.`validUntil` IS NULL OR `main`.`rewards`.`validUntil` >= ?)) ORDER BY `main`.`rewards`.`featured` DESC, `main`.`rewards`.`sortOrder` ASC, `main`.`rewards`.`pointsCost` ASC LIMIT ? OFFSET ?
Query Reward.findMany tom√≥ 7ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 23ms
prisma:query SELECT `main`.`reward_redemptions`.`id`, `main`.`reward_redemptions`.`userId`, `main`.`reward_redemptions`.`rewardId`, `main`.`reward_redemptions`.`pointsSpent`, `main`.`reward_redemptions`.`status`, `main`.`reward_redemptions`.`approvedBy`, `main`.`reward_redemptions`.`approvedAt`, `main`.`reward_redemptions`.`deliveryMethod`, `main`.`reward_redemptions`.`deliveryStatus`, `main`.`reward_redemptions`.`deliveredAt`, `main`.`reward_redemptions`.`trackingInfo`, `main`.`reward_redemptions`.`generatedCode`, `main`.`reward_redemptions`.`codeUsed`, `main`.`reward_redemptions`.`codeUsedAt`, `main`.`reward_redemptions`.`cancelledAt`, `main`.`reward_redemptions`.`cancelReason`, `main`.`reward_redemptions`.`refunded`, `main`.`reward_redemptions`.`refundedAt`, `main`.`reward_redemptions`.`metadata`, `main`.`reward_redemptions`.`createdAt`, `main`.`reward_redemptions`.`updatedAt` FROM `main`.`reward_redemptions` WHERE `main`.`reward_redemptions`.`userId` = ? LIMIT ? OFFSET ?
Query RewardRedemption.findMany tom√≥ 5ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/rewards HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
prisma:query SELECT `main`.`reward_redemptions`.`id`, `main`.`reward_redemptions`.`userId`, `main`.`reward_redemptions`.`rewardId`, `main`.`reward_redemptions`.`pointsSpent`, `main`.`reward_redemptions`.`status`, `main`.`reward_redemptions`.`approvedBy`, `main`.`reward_redemptions`.`approvedAt`, `main`.`reward_redemptions`.`deliveryMethod`, `main`.`reward_redemptions`.`deliveryStatus`, `main`.`reward_redemptions`.`deliveredAt`, `main`.`reward_redemptions`.`trackingInfo`, `main`.`reward_redemptions`.`generatedCode`, `main`.`reward_redemptions`.`codeUsed`, `main`.`reward_redemptions`.`codeUsedAt`, `main`.`reward_redemptions`.`cancelledAt`, `main`.`reward_redemptions`.`cancelReason`, `main`.`reward_redemptions`.`refunded`, `main`.`reward_redemptions`.`refundedAt`, `main`.`reward_redemptions`.`metadata`, `main`.`reward_redemptions`.`createdAt`, `main`.`reward_redemptions`.`updatedAt` FROM `main`.`reward_redemptions` WHERE `main`.`reward_redemptions`.`userId` = ? ORDER BY `main`.`reward_redemptions`.`createdAt` DESC LIMIT ? OFFSET ?
Query RewardRedemption.findMany tom√≥ 6ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/rewards/redemptions HTTP/1.1" 200 42 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`leaderboard_entries`.`id`, `main`.`leaderboard_entries`.`userId`, `main`.`leaderboard_entries`.`userName`, `main`.`leaderboard_entries`.`leaderboardType`, `main`.`leaderboard_entries`.`period`, `main`.`leaderboard_entries`.`score`, `main`.`leaderboard_entries`.`rank`, `main`.`leaderboard_entries`.`previousRank`, `main`.`leaderboard_entries`.`totalPurchases`, `main`.`leaderboard_entries`.`totalSpent`, `main`.`leaderboard_entries`.`totalReviews`, `main`.`leaderboard_entries`.`totalReferrals`, `main`.`leaderboard_entries`.`currentStreak`, `main`.`leaderboard_entries`.`totalBadges`, `main`.`leaderboard_entries`.`periodStart`, `main`.`leaderboard_entries`.`periodEnd`, `main`.`leaderboard_entries`.`hasReward`, `main`.`leaderboard_entries`.`rewardClaimed`, `main`.`leaderboard_entries`.`rewardPoints`, `main`.`leaderboard_entries`.`metadata`, `main`.`leaderboard_entries`.`calculatedAt`, `main`.`leaderboard_entries`.`createdAt`, `main`.`leaderboard_entries`.`updatedAt` FROM `main`.`leaderboard_entries` WHERE (`main`.`leaderboard_entries`.`leaderboardType` = ? AND `main`.`leaderboard_entries`.`period` = ? AND `main`.`leaderboard_entries`.`periodStart` <= ? AND `main`.`leaderboard_entries`.`periodEnd` >= ?) ORDER BY `main`.`leaderboard_entries`.`rank` ASC LIMIT ? OFFSET ?
Query LeaderboardEntry.findMany tom√≥ 5ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/leaderboard HTTP/1.1" 200 81 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`userId` = ? ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
Query UserBadge.findMany tom√≥ 4ms
prisma:query SELECT `main`.`challenges`.`id`, `main`.`challenges`.`code`, `main`.`challenges`.`name`, `main`.`challenges`.`description`, `main`.`challenges`.`type`, `main`.`challenges`.`category`, `main`.`challenges`.`targetType`, `main`.`challenges`.`targetValue`, `main`.`challenges`.`targetDetails`, `main`.`challenges`.`pointsReward`, `main`.`challenges`.`badgeReward`, `main`.`challenges`.`couponReward`, `main`.`challenges`.`startDate`, `main`.`challenges`.`endDate`, `main`.`challenges`.`isActive`, `main`.`challenges`.`isRepeatable`, `main`.`challenges`.`maxCompletions`, `main`.`challenges`.`icon`, `main`.`challenges`.`color`, `main`.`challenges`.`difficulty`, `main`.`challenges`.`totalParticipants`, `main`.`challenges`.`totalCompletions`, `main`.`challenges`.`metadata`, `main`.`challenges`.`createdAt`, `main`.`challenges`.`updatedAt` FROM `main`.`challenges` WHERE (`main`.`challenges`.`isActive` = ? AND `main`.`challenges`.`startDate` <= ? AND (`main`.`challenges`.`endDate` IS NULL OR `main`.`challenges`.`endDate` >= ?)) ORDER BY `main`.`challenges`.`difficulty` ASC, `main`.`challenges`.`pointsReward` DESC LIMIT ? OFFSET ?
Query Challenge.findMany tom√≥ 11ms
prisma:query SELECT `main`.`referrals`.`id`, `main`.`referrals`.`referrerId`, `main`.`referrals`.`referrerLoyaltyId`, `main`.`referrals`.`referredEmail`, `main`.`referrals`.`referredUserId`, `main`.`referrals`.`referralCode`, `main`.`referrals`.`referralLink`, `main`.`referrals`.`status`, `main`.`referrals`.`referrerPoints`, `main`.`referrals`.`referredPoints`, `main`.`referrals`.`referrerBonusPaid`, `main`.`referrals`.`referredBonusPaid`, `main`.`referrals`.`clickCount`, `main`.`referrals`.`lastClickAt`, `main`.`referrals`.`registeredAt`, `main`.`referrals`.`firstPurchaseAt`, `main`.`referrals`.`firstPurchaseAmount`, `main`.`referrals`.`metadata`, `main`.`referrals`.`createdAt`, `main`.`referrals`.`updatedAt` FROM `main`.`referrals` WHERE `main`.`referrals`.`referrerId` = ? ORDER BY `main`.`referrals`.`createdAt` DESC LIMIT ? OFFSET ?
Query Referral.findMany tom√≥ 17ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 15ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 45ms
prisma:query SELECT `main`.`user_challenges`.`id`, `main`.`user_challenges`.`userId`, `main`.`user_challenges`.`loyaltyId`, `main`.`user_challenges`.`challengeId`, `main`.`user_challenges`.`currentProgress`, `main`.`user_challenges`.`targetProgress`, `main`.`user_challenges`.`isCompleted`, `main`.`user_challenges`.`completedAt`, `main`.`user_challenges`.`pointsEarned`, `main`.`user_challenges`.`rewardClaimed`, `main`.`user_challenges`.`claimedAt`, `main`.`user_challenges`.`startedAt`, `main`.`user_challenges`.`lastProgressAt`, `main`.`user_challenges`.`attemptNumber`, `main`.`user_challenges`.`progressData`, `main`.`user_challenges`.`metadata`, `main`.`user_challenges`.`createdAt`, `main`.`user_challenges`.`updatedAt` FROM `main`.`user_challenges` LEFT JOIN `main`.`challenges` AS `j1` ON (`j1`.`id`) = (`main`.`user_challenges`.`challengeId`) WHERE (`main`.`user_challenges`.`userId` = ? AND (`j1`.`isActive` = ? AND (`j1`.`id` IS NOT NULL))) ORDER BY `main`.`user_challenges`.`lastProgressAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`badges`.`id`, `main`.`badges`.`code`, `main`.`badges`.`name`, `main`.`badges`.`description`, `main`.`badges`.`icon`, `main`.`badges`.`color`, `main`.`badges`.`rarity`, `main`.`badges`.`requirementType`, `main`.`badges`.`requirementValue`, `main`.`badges`.`pointsReward`, `main`.`badges`.`hasSpecialReward`, `main`.`badges`.`specialRewardDesc`, `main`.`badges`.`isActive`, `main`.`badges`.`isSecret`, `main`.`badges`.`sortOrder`, `main`.`badges`.`totalAwarded`, `main`.`badges`.`metadata`, `main`.`badges`.`createdAt`, `main`.`badges`.`updatedAt` FROM `main`.`badges` WHERE (`main`.`badges`.`isActive` = ? AND `main`.`badges`.`isSecret` = ?) ORDER BY `main`.`badges`.`sortOrder` ASC, `main`.`badges`.`rarity` ASC LIMIT ? OFFSET ?
Query Badge.findMany tom√≥ 54ms
Query UserChallenge.findMany tom√≥ 28ms
Query LoyaltyTransaction.findMany tom√≥ 8ms
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`userId` = ? ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_challenges`.`id`, `main`.`user_challenges`.`userId`, `main`.`user_challenges`.`loyaltyId`, `main`.`user_challenges`.`challengeId`, `main`.`user_challenges`.`currentProgress`, `main`.`user_challenges`.`targetProgress`, `main`.`user_challenges`.`isCompleted`, `main`.`user_challenges`.`completedAt`, `main`.`user_challenges`.`pointsEarned`, `main`.`user_challenges`.`rewardClaimed`, `main`.`user_challenges`.`claimedAt`, `main`.`user_challenges`.`startedAt`, `main`.`user_challenges`.`lastProgressAt`, `main`.`user_challenges`.`attemptNumber`, `main`.`user_challenges`.`progressData`, `main`.`user_challenges`.`metadata`, `main`.`user_challenges`.`createdAt`, `main`.`user_challenges`.`updatedAt` FROM `main`.`user_challenges` WHERE (`main`.`user_challenges`.`userId` = ? AND `main`.`user_challenges`.`isCompleted` = ?) ORDER BY `main`.`user_challenges`.`completedAt` DESC LIMIT ? OFFSET ?
Query UserChallenge.findMany tom√≥ 5ms
Query LoyaltyTransaction.count tom√≥ 14ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/stats HTTP/1.1" 200 192 "-" "python-requests/2.32.5"
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`loyalty_transactions`.`id` FROM `main`.`loyalty_transactions` WHERE (`main`.`loyalty_transactions`.`userId` = ? AND `main`.`loyalty_transactions`.`isExpired` = ? AND `main`.`loyalty_transactions`.`expiresAt` <= ?) LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 13ms
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`userId` = ? ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
Query LoyaltyTransaction.findMany tom√≥ 5ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`loyalty_transactions`.`id` FROM `main`.`loyalty_transactions` WHERE (`main`.`loyalty_transactions`.`userId` = ? AND `main`.`loyalty_transactions`.`isExpired` = ? AND `main`.`loyalty_transactions`.`expiresAt` <= ?) LIMIT ? OFFSET ?) AS `sub`
Query LoyaltyTransaction.count tom√≥ 13ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/loyalty HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`userId` = ? ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
Query LoyaltyTransaction.findMany tom√≥ 5ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`loyalty_transactions`.`id` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`userId` = ? LIMIT ? OFFSET ?) AS `sub`
Query LoyaltyTransaction.count tom√≥ 9ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/loyalty/transactions HTTP/1.1" 200 106 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
::1 - - [20/Nov/2025:16:32:04 +0000] "GET /api/gamification/loyalty/tiers HTTP/1.1" 200 - "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`loyalty_points`.`id`, `main`.`loyalty_points`.`userId`, `main`.`loyalty_points`.`currentPoints`, `main`.`loyalty_points`.`totalEarned`, `main`.`loyalty_points`.`totalRedeemed`, `main`.`loyalty_points`.`lifetimePoints`, `main`.`loyalty_points`.`tier`, `main`.`loyalty_points`.`tierProgress`, `main`.`loyalty_points`.`nextTierPoints`, `main`.`loyalty_points`.`totalBadges`, `main`.`loyalty_points`.`totalChallengesCompleted`, `main`.`loyalty_points`.`totalReferrals`, `main`.`loyalty_points`.`currentStreak`, `main`.`loyalty_points`.`longestStreak`, `main`.`loyalty_points`.`lastPointsEarned`, `main`.`loyalty_points`.`lastTierUpgrade`, `main`.`loyalty_points`.`metadata`, `main`.`loyalty_points`.`createdAt`, `main`.`loyalty_points`.`updatedAt` FROM `main`.`loyalty_points` WHERE (`main`.`loyalty_points`.`userId` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`loyalty_transactions`.`id`, `main`.`loyalty_transactions`.`loyaltyId`, `main`.`loyalty_transactions`.`userId`, `main`.`loyalty_transactions`.`type`, `main`.`loyalty_transactions`.`action`, `main`.`loyalty_transactions`.`points`, `main`.`loyalty_transactions`.`balanceBefore`, `main`.`loyalty_transactions`.`balanceAfter`, `main`.`loyalty_transactions`.`orderId`, `main`.`loyalty_transactions`.`referenceType`, `main`.`loyalty_transactions`.`referenceId`, `main`.`loyalty_transactions`.`multiplier`, `main`.`loyalty_transactions`.`bonusPoints`, `main`.`loyalty_transactions`.`expiresAt`, `main`.`loyalty_transactions`.`isExpired`, `main`.`loyalty_transactions`.`description`, `main`.`loyalty_transactions`.`notes`, `main`.`loyalty_transactions`.`metadata`, `main`.`loyalty_transactions`.`createdAt` FROM `main`.`loyalty_transactions` WHERE `main`.`loyalty_transactions`.`loyaltyId` IN (?) ORDER BY `main`.`loyalty_transactions`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`user_badges`.`id`, `main`.`user_badges`.`userId`, `main`.`user_badges`.`loyaltyId`, `main`.`user_badges`.`badgeId`, `main`.`user_badges`.`isNew`, `main`.`user_badges`.`viewedAt`, `main`.`user_badges`.`earnedFromType`, `main`.`user_badges`.`earnedFromId`, `main`.`user_badges`.`metadata`, `main`.`user_badges`.`earnedAt` FROM `main`.`user_badges` WHERE `main`.`user_badges`.`loyaltyId` IN (?) ORDER BY `main`.`user_badges`.`earnedAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`streaks`.`id`, `main`.`streaks`.`userId`, `main`.`streaks`.`loyaltyId`, `main`.`streaks`.`type`, `main`.`streaks`.`currentStreak`, `main`.`streaks`.`longestStreak`, `main`.`streaks`.`lastActionDate`, `main`.`streaks`.`nextRequiredDate`, `main`.`streaks`.`isActive`, `main`.`streaks`.`brokeAt`, `main`.`streaks`.`milestones`, `main`.`streaks`.`totalBonusPoints`, `main`.`streaks`.`currentMultiplier`, `main`.`streaks`.`metadata`, `main`.`streaks`.`createdAt`, `main`.`streaks`.`updatedAt` FROM `main`.`streaks` WHERE `main`.`streaks`.`loyaltyId` IN (?) LIMIT ? OFFSET ?
Query LoyaltyPoints.findUnique tom√≥ 14ms
prisma:query SELECT `main`.`referrals`.`id`, `main`.`referrals`.`referrerId`, `main`.`referrals`.`referrerLoyaltyId`, `main`.`referrals`.`referredEmail`, `main`.`referrals`.`referredUserId`, `main`.`referrals`.`referralCode`, `main`.`referrals`.`referralLink`, `main`.`referrals`.`status`, `main`.`referrals`.`referrerPoints`, `main`.`referrals`.`referredPoints`, `main`.`referrals`.`referrerBonusPaid`, `main`.`referrals`.`referredBonusPaid`, `main`.`referrals`.`clickCount`, `main`.`referrals`.`lastClickAt`, `main`.`referrals`.`registeredAt`, `main`.`referrals`.`firstPurchaseAt`, `main`.`referrals`.`firstPurchaseAmount`, `main`.`referrals`.`metadata`, `main`.`referrals`.`createdAt`, `main`.`referrals`.`updatedAt` FROM `main`.`referrals` WHERE `main`.`referrals`.`referrerId` = ? LIMIT ? OFFSET ?
Query Referral.findFirst tom√≥ 4ms
prisma:query INSERT INTO `main`.`referrals` (`id`, `referrerId`, `referrerLoyaltyId`, `referredEmail`, `referralCode`, `referralLink`, `status`, `referrerPoints`, `referredPoints`, `referrerBonusPaid`, `referredBonusPaid`, `clickCount`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `referrerId` AS `referrerId`, `referrerLoyaltyId` AS `referrerLoyaltyId`, `referredEmail` AS `referredEmail`, `referredUserId` AS `referredUserId`, `referralCode` AS `referralCode`, `referralLink` AS `referralLink`, `status` AS `status`, `referrerPoints` AS `referrerPoints`, `referredPoints` AS `referredPoints`, `referrerBonusPaid` AS `referrerBonusPaid`, `referredBonusPaid` AS `referredBonusPaid`, `clickCount` AS `clickCount`, `lastClickAt` AS `lastClickAt`, `registeredAt` AS `registeredAt`, `firstPurchaseAt` AS `firstPurchaseAt`, `firstPurchaseAmount` AS `firstPurchaseAmount`, `metadata` AS `metadata`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
Query Referral.create tom√≥ 41ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/gamification/referrals/code HTTP/1.1" 200 100 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 5ms
Query Referral.findMany tom√≥ 5ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/gamification/referrals HTTP/1.1" 200 271 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`referrals`.`id`, `main`.`referrals`.`referrerId`, `main`.`referrals`.`referrerLoyaltyId`, `main`.`referrals`.`referredEmail`, `main`.`referrals`.`referredUserId`, `main`.`referrals`.`referralCode`, `main`.`referrals`.`referralLink`, `main`.`referrals`.`status`, `main`.`referrals`.`referrerPoints`, `main`.`referrals`.`referredPoints`, `main`.`referrals`.`referrerBonusPaid`, `main`.`referrals`.`referredBonusPaid`, `main`.`referrals`.`clickCount`, `main`.`referrals`.`lastClickAt`, `main`.`referrals`.`registeredAt`, `main`.`referrals`.`firstPurchaseAt`, `main`.`referrals`.`firstPurchaseAmount`, `main`.`referrals`.`metadata`, `main`.`referrals`.`createdAt`, `main`.`referrals`.`updatedAt` FROM `main`.`referrals` WHERE `main`.`referrals`.`referrerId` = ? ORDER BY `main`.`referrals`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`membership_plans`.`id`, `main`.`membership_plans`.`name`, `main`.`membership_plans`.`displayName`, `main`.`membership_plans`.`description`, `main`.`membership_plans`.`monthlyPrice`, `main`.`membership_plans`.`quarterlyPrice`, `main`.`membership_plans`.`annualPrice`, `main`.`membership_plans`.`discountPercent`, `main`.`membership_plans`.`freeShipping`, `main`.`membership_plans`.`pointsMultiplier`, `main`.`membership_plans`.`earlyAccess`, `main`.`membership_plans`.`exclusiveProducts`, `main`.`membership_plans`.`maxMonthlyOrders`, `main`.`membership_plans`.`prioritySupport`, `main`.`membership_plans`.`features`, `main`.`membership_plans`.`color`, `main`.`membership_plans`.`icon`, `main`.`membership_plans`.`sortOrder`, `main`.`membership_plans`.`metadata` FROM `main`.`membership_plans` WHERE (`main`.`membership_plans`.`isActive` = ? AND `main`.`membership_plans`.`isVisible` = ?) ORDER BY `main`.`membership_plans`.`sortOrder` ASC, `main`.`membership_plans`.`monthlyPrice` ASC LIMIT ? OFFSET ?
Query MembershipPlan.findMany tom√≥ 5ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/memberships/plans HTTP/1.1" 200 26 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`subscription_plans`.`id`, `main`.`subscription_plans`.`name`, `main`.`subscription_plans`.`slug`, `main`.`subscription_plans`.`description`, `main`.`subscription_plans`.`boxType`, `main`.`subscription_plans`.`boxSize`, `main`.`subscription_plans`.`estimatedValue`, `main`.`subscription_plans`.`price`, `main`.`subscription_plans`.`comparePrice`, `main`.`subscription_plans`.`includedProducts`, `main`.`subscription_plans`.`productCount`, `main`.`subscription_plans`.`totalWeight`, `main`.`subscription_plans`.`allowCustomization`, `main`.`subscription_plans`.`customizationOptions`, `main`.`subscription_plans`.`deliveryFrequency`, `main`.`subscription_plans`.`minSubscriptionPeriod`, `main`.`subscription_plans`.`membershipRequired`, `main`.`subscription_plans`.`isActive`, `main`.`subscription_plans`.`isVisible`, `main`.`subscription_plans`.`stockLimit`, `main`.`subscription_plans`.`currentSubscribers`, `main`.`subscription_plans`.`imageUrl`, `main`.`subscription_plans`.`features`, `main`.`subscription_plans`.`tags`, `main`.`subscription_plans`.`metadata`, `main`.`subscription_plans`.`createdAt`, `main`.`subscription_plans`.`updatedAt`, COALESCE(`aggr_selection_0_Subscription`.`_aggr_count_subscriptions`, 0) AS `_aggr_count_subscriptions` FROM `main`.`subscription_plans` LEFT JOIN (SELECT `main`.`subscriptions`.`planId`, COUNT(*) AS `_aggr_count_subscriptions` FROM `main`.`subscriptions` WHERE 1=1 GROUP BY `main`.`subscriptions`.`planId`) AS `aggr_selection_0_Subscription` ON (`main`.`subscription_plans`.`id` = `aggr_selection_0_Subscription`.`planId`) WHERE (`main`.`subscription_plans`.`isActive` = ? AND `main`.`subscription_plans`.`isVisible` = ?) ORDER BY `main`.`subscription_plans`.`price` ASC LIMIT ? OFFSET ?
Query SubscriptionPlan.findMany tom√≥ 6ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/subscriptions/plans HTTP/1.1" 200 26 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/recommendations/personalized HTTP/1.1" 200 26 "-" "python-requests/2.32.5"
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/recommendations/trending HTTP/1.1" 200 26 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 6ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/inventory/alerts HTTP/1.1" 200 92 "-" "python-requests/2.32.5"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 4ms
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`isActive` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
Query User.findUnique tom√≥ 3ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`users`.`id` FROM `main`.`users` WHERE `main`.`users`.`isActive` = ? LIMIT ? OFFSET ?) AS `sub`
Query User.count tom√≥ 4ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`products`.`id` FROM `main`.`products` WHERE `main`.`products`.`isActive` = ? LIMIT ? OFFSET ?) AS `sub`
Query Product.count tom√≥ 8ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`orders`.`id` FROM `main`.`orders` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
Query Order.count tom√≥ 13ms
prisma:query SELECT SUM(`total`) FROM (SELECT `main`.`orders`.`total` FROM `main`.`orders` WHERE (`main`.`orders`.`status` IN (?,?) AND `main`.`orders`.`paymentStatus` = ?) LIMIT ? OFFSET ?) AS `sub`
Query Order.aggregate tom√≥ 18ms
prisma:query SELECT `main`.`orders`.`id`, `main`.`orders`.`orderNumber`, `main`.`orders`.`status`, `main`.`orders`.`total`, `main`.`orders`.`createdAt`, `main`.`orders`.`userId` FROM `main`.`orders` WHERE 1=1 ORDER BY `main`.`orders`.`createdAt` DESC LIMIT ? OFFSET ?
Query Order.findMany tom√≥ 21ms
prisma:query SELECT `main`.`products`.`id`, `main`.`products`.`name`, `main`.`products`.`totalSales`, `main`.`products`.`imageUrl` FROM `main`.`products` WHERE `main`.`products`.`isActive` = ? ORDER BY `main`.`products`.`totalSales` DESC LIMIT ? OFFSET ?
Query Product.findMany tom√≥ 25ms
prisma:query SELECT COUNT(`main`.`orders`.`id`), `main`.`orders`.`status` FROM `main`.`orders` WHERE 1=1 GROUP BY `main`.`orders`.`status` LIMIT ? OFFSET ?
Query Order.groupBy tom√≥ 4ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`orders`.`id` FROM `main`.`orders` WHERE `main`.`orders`.`createdAt` >= ? LIMIT ? OFFSET ?) AS `sub`
Query Order.count tom√≥ 3ms
prisma:query SELECT SUM(`total`) FROM (SELECT `main`.`orders`.`total` FROM `main`.`orders` WHERE (`main`.`orders`.`createdAt` >= ? AND `main`.`orders`.`status` IN (?,?) AND `main`.`orders`.`paymentStatus` = ?) LIMIT ? OFFSET ?) AS `sub`
Query Order.aggregate tom√≥ 6ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`product_variants`.`id` FROM `main`.`product_variants` WHERE (`main`.`product_variants`.`isActive` = ? AND `main`.`product_variants`.`stock` <= ? AND `main`.`product_variants`.`stock` > ?) LIMIT ? OFFSET ?) AS `sub`
Query ProductVariant.count tom√≥ 5ms
prisma:query SELECT COUNT(*) FROM (SELECT `main`.`product_variants`.`id` FROM `main`.`product_variants` WHERE (`main`.`product_variants`.`isActive` = ? AND `main`.`product_variants`.`stock` = ?) LIMIT ? OFFSET ?) AS `sub`
Query ProductVariant.count tom√≥ 10ms
::1 - - [20/Nov/2025:16:32:05 +0000] "GET /api/analytics/dashboard HTTP/1.1" 200 398 "-" "python-requests/2.32.5"
